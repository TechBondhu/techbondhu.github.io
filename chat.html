<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ফর্মবন্ধু</title>
    <link href="https://fonts.googleapis.com/css2?family=Tiro+Bangla&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chat-container">
        <div class="header">
            <div class="header-icons">
                <i class="fas fa-bars history-icon" id="historyIcon"></i>
                <i class="fas fa-plus new-chat-icon" id="newChatIcon"></i>
            </div>
            <div class="header-brand">
                <span class="brand-logo">ফর্মবন্ধু</span>
                <span class="dynamic-text" id="dynamicText"></span>
            </div>
            <div class="header-right-icons">
                <i class="fas fa-video video-icon" id="videoIcon"></i>
            </div>
        </div>
        
        <div class="sub-header">
            <div class="sub-header-left">আবেদন</div>
            <div class="sub-header-right">প্রশ্ন জিজ্ঞাসা</div>
        </div>
        
        <div class="split-chat">
            <!-- আবেদন সেকশন -->
            <div class="chat-column left-column">
                <div id="welcomeMessage" class="welcome-message">
                    <h2>আবেদন</h2>
                    <div class="welcome-buttons">
                        <button data-genre="এনআইডি আবেদন"><i class="fas fa-id-card"></i> এনআইডি আবেদন</button>
                        <button data-genre="পাসপোর্ট আবেদন"><i class="fas fa-passport"></i> পাসপোর্ট আবেদন</button>
                        <button data-genre="কোম্পানি রেজিস্ট্রেশন"><i class="fas fa-building"></i> কোম্পানি রেজিস্ট্রেশন</button>
                        <button id="moreOptionsBtn"><i class="fas fa-ellipsis-h"></i> আরও</button>
                    </div>
                </div>
                <div id="messages" class="messages"></div>
                <div class="input-area input-area-left">
                    <div class="input-wrapper">
                        <textarea id="userInput" placeholder="আপনার আবেদন লিখুন..." rows="1"></textarea>
                        <button id="sendBtn" aria-label="আবেদন পাঠান"><i class="fas fa-paper-plane"></i></button>
                        <button id="uploadBtn" aria-label="ফাইল আপলোড করুন"><i class="fas fa-upload"></i></button>
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                    </div>
                    <div id="previewContainer" style="display: none;">
                        <img id="previewImage" src="" alt="Preview Image">
                    </div>
                </div>
            </div>
            
            <!-- প্রশ্ন জিজ্ঞাসা সেকশন -->
            <div class="chat-column right-column">
                <div id="welcomeMessage-right" class="welcome-message">
                    <h2>প্রশ্ন জিজ্ঞাসা</h2>
                    <div class="welcome-buttons">
                        <button data-category="এনআইডি আবেদন"><i class="fas fa-id-card"></i> এনআইডি আবেদন</button>
                        <button data-category="পাসপোর্ট আবেদন"><i class="fas fa-passport"></i> পাসপোর্ট আবেদন</button>
                        <button data-category="কোম্পানি রেজিস্ট্রেশন"><i class="fas fa-building"></i> কোম্পানি রেজিস্ট্রেশন</button>
                        <button id="moreOptionsBtn-right"><i class="fas fa-ellipsis-h"></i> আরও</button>
                    </div>
                </div>
                <div id="messages-right" class="messages messages-right-column"></div>
                <div class="input-area input-area-right">
                    <div class="input-wrapper">
                        <textarea id="userInput-right" placeholder="আপনার প্রশ্ন লিখুন..." rows="1"></textarea>
                        <button id="sendBtn-right" aria-label="প্রশ্ন পাঠান"><i class="fas fa-paper-plane"></i></button>
                        <button id="uploadBtn-right" aria-label="ফাইল আপলোড করুন"><i class="fas fa-upload"></i></button>
                        <input type="file" id="fileInput-right" accept="image/*" style="display: none;">
                    </div>
                    <div id="previewContainer-right" style="display: none;">
                        <img id="previewImage-right" src="" alt="Preview Image">
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- সাইডবার -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <i class="fas fa-history sidebar-icon"></i>
            <span class="close-sidebar" id="closeSidebar">&times;</span>
        </div>
        <input type="text" class="search-input" id="searchInput" placeholder="চ্যাট অনুসন্ধান করুন...">
        <div class="history-list" id="historyList"></div>
    </div>
    
    <!-- ডিলিট মডাল -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <p>আপনি কি এই চ্যাটটি মুছতে চান?</p>
            <div class="modal-buttons">
                <button id="cancelDelete">বাতিল</button>
                <button id="confirmDelete">মুছুন</button>
            </div>
        </div>
    </div>
    
    <!-- রিনেম মডাল -->
    <div id="renameModal" class="modal">
        <div class="rename-modal-content">
            <h3>চ্যাটের নাম পরিবর্তন করুন</h3>
            <input type="text" id="renameInput">
            <div class="rename-modal-buttons">
                <button id="cancelRename">বাতিল</button>
                <button id="saveRename">সংরক্ষণ</button>
            </div>
        </div>
    </div>
    
    <!-- জেনারস মডাল (আবেদনের জন্য) -->
    <div id="genresModal">
        <div class="modal-content">
            <span class="close" id="closeGenresModal">&times;</span>
            <h2><i class="fas fa-list"></i> সকল সেবা</h2>
            <div id="genresList"></div>
            <div class="genres-modal-buttons">
                <button id="closeGenresModalBtn">বন্ধ করুন</button>
            </div>
        </div>
    </div>
    
    <!-- জেনারস2 মডাল (প্রশ্নের জন্য) -->
    <div id="genres2Modal">
        <div class="modal-content">
            <span class="close" id="closeGenres2Modal">&times;</span>
            <h2><i class="fas fa-question-circle"></i> সকল প্রশ্ন</h2>
            <div id="genres2List"></div>
            <div class="genres-modal-buttons">
                <button id="closeGenres2ModalBtn">বন্ধ করুন</button>
            </div>
        </div>
    </div>
    
    <!-- ইমেজ রিভিউ মডাল -->
    <div id="imageReviewModal" class="modal">
        <div class="image-review-content">
            <img id="reviewImage" src="" alt="Review Image">
            <button id="deleteImageBtn"><i class="fas fa-trash"></i> মুছুন</button>
        </div>
    </div>
    
    <!-- ইমেজ এডিট মডাল -->
    <div id="editModal" class="modal">
        <div class="edit-modal-content">
            <div class="edit-canvas-container">
                <canvas id="editCanvas"></canvas>
            </div>
            <div class="edit-controls">
                <label>Crop X: <input type="number" id="cropX" value="0"></label>
                <label>Crop Y: <input type="number" id="cropY" value="0"></label>
                <label>Crop Width: <input type="number" id="cropWidth" value="200"></label>
                <label>Crop Height: <input type="number" id="cropHeight" value="200"></label>
                <label>Brightness: <input type="range" id="brightness" min="-100" max="100" value="0"></label>
                <label>Contrast: <input type="range" id="contrast" min="-100" max="100" value="0"></label>
                <label>Background Color:
                    <select id="bgColor">
                        <option value="white">White</option>
                        <option value="black">Black</option>
                        <option value="gray">Gray</option>
                    </select>
                </label>
                <div class="edit-modal-buttons">
                    <button id="cancelEdit">বাতিল</button>
                    <button id="editApplyBtn">পরিবর্তন প্রয়োগ করুন</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ভিডিও মডাল -->
    <div class="video-modal" id="videoModal">
        <div class="video-modal-content">
            <video id="tutorialVideo" controls>
                <source src="path/to/your/video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="video-modal-buttons">
                <button class="close-video" id="closeVideoModal" aria-label="ভিডিও মডাল বন্ধ করুন">বন্ধ করুন</button>
            </div>
        </div>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="chat.js"></script>
</body>
</html>
